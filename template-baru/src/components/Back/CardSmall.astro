---
const { title, value, icon, total } = Astro.props;
console.log("total nya", total);
console.log("nilainya ", value);
const tot = (value / total) * 100;
const getWarna = nilai => {
  return nilai <= 30 ? "#eb3232" : nilai <= 60 ? "#b5b209" : "#09b548";
};
---

<!-- Total Profit -->
<div class='col-xl-2 col-md-3 col-sm-6'>
  <div class='card h-100'>
    <div class='card-body'>
      <div class='d-flex justify-content-between align-items-start flex-wrap gap-2'>
        <div class='avatar'>
          <iconify-icon icon={icon} width='48' height='48'></iconify-icon>
        </div>
        <div class='d-flex align-items-center'>
          <p class='mb-0 text-default me-1 h5'>{tot.toFixed(2)}</p>
          <iconify-icon icon='fa7-solid:percent' width='24' height='24' style={"color: " + getWarna(tot)}
          ></iconify-icon>
        </div>
      </div>
      <div class='card-info mt-4 pt-1'>
        <h5 class='mb-2'>{value}</h5>
        <p>{title.toUpperCase().replaceAll("_", " ")}</p>
      </div>
    </div>
  </div>
</div>
<!--/ Total Profit -->
